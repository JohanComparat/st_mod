#!/bin/bash
conda activate stmod
cd $GIT_STMOD/src/Mpipelines
#
python AGN_pipeline.py z0p02 LC0002  0.8 8
python AGN_pipeline.py z0p05 LC0002  0.8 8
python AGN_pipeline.py z0p09 LC0002  0.8 8
python AGN_pipeline.py z0p14 LC0002  0.8 8
python AGN_pipeline.py z0p19 LC0002  0.8 8
python AGN_pipeline.py z0p25 LC0002  0.8 8
python AGN_pipeline.py z0p30 LC0002  0.8 8
python AGN_pipeline.py z0p36 LC0002  0.8 8
python AGN_pipeline.py z0p43 LC0002  0.8 8
python AGN_pipeline.py z0p49 LC0002  0.8 8
python AGN_pipeline.py z0p56 LC0002  0.8 8
python AGN_pipeline.py z0p63 LC0002  0.8 8
python AGN_pipeline.py z0p70 LC0002  0.8 8
python AGN_pipeline.py z0p78 LC0002  0.8 8
python AGN_pipeline.py z0p86 LC0002  0.8 8
python AGN_pipeline.py z0p94 LC0002  0.8 8
python AGN_pipeline.py z1p03 LC0002  0.8 8
python AGN_pipeline.py z1p12 LC0002  0.8 8
python AGN_pipeline.py z1p22 LC0002  0.8 8
python AGN_pipeline.py z1p32 LC0002  0.8 8
python AGN_pipeline.py z1p43 LC0002  0.8 8
python AGN_pipeline.py z1p54 LC0002  0.8 8
python AGN_pipeline.py z1p65 LC0002  0.8 8
python AGN_pipeline.py z1p77 LC0002  0.8 8
python AGN_pipeline.py z1p90 LC0002  0.8 8
python AGN_pipeline.py z2p03 LC0002  0.8 8
python AGN_pipeline.py z2p17 LC0002  0.8 8
python AGN_pipeline.py z2p31 LC0002  0.8 8
python AGN_pipeline.py z2p46 LC0002  0.8 8
python AGN_pipeline.py z2p62 LC0002  0.8 8
python AGN_pipeline.py z2p78 LC0002  0.8 8
python AGN_pipeline.py z2p95 LC0002  0.8 8
python AGN_pipeline.py z3p13 LC0002  0.8 8
python AGN_pipeline.py z3p32 LC0002  0.8 8
python AGN_pipeline.py z3p61 LC0002  0.8 8
python AGN_pipeline.py z3p93 LC0002  0.8 8
python AGN_pipeline.py z4p27 LC0002  0.8 8
python AGN_pipeline.py z4p63 LC0002  0.8 8
python AGN_pipeline.py z5p15 LC0002  0.8 8
python AGN_pipeline.py z5p73 LC0002  0.8 8
#                                    0.8 8
python AGN_pipeline.py z0p00 LC0060  0.8 8
python AGN_pipeline.py z0p02 LC0060  0.8 8
python AGN_pipeline.py z0p05 LC0060  0.8 8
python AGN_pipeline.py z0p09 LC0060  0.8 8
python AGN_pipeline.py z0p14 LC0060  0.8 8
python AGN_pipeline.py z0p19 LC0060  0.8 8
python AGN_pipeline.py z0p25 LC0060  0.8 8
python AGN_pipeline.py z0p30 LC0060  0.8 8
python AGN_pipeline.py z0p36 LC0060  0.8 8
python AGN_pipeline.py z0p43 LC0060  0.8 8
python AGN_pipeline.py z0p49 LC0060  0.8 8
python AGN_pipeline.py z0p56 LC0060  0.8 8
python AGN_pipeline.py z0p63 LC0060  0.8 8
python AGN_pipeline.py z0p70 LC0060  0.8 8
python AGN_pipeline.py z0p78 LC0060  0.8 8
python AGN_pipeline.py z0p86 LC0060  0.8 8
python AGN_pipeline.py z0p94 LC0060  0.8 8
python AGN_pipeline.py z1p03 LC0060  0.8 8
python AGN_pipeline.py z1p12 LC0060  0.8 8
python AGN_pipeline.py z1p22 LC0060  0.8 8
python AGN_pipeline.py z1p32 LC0060  0.8 8
python AGN_pipeline.py z1p43 LC0060  0.8 8
python AGN_pipeline.py z1p54 LC0060  0.8 8
python AGN_pipeline.py z1p65 LC0060  0.8 8
python AGN_pipeline.py z1p77 LC0060  0.8 8
python AGN_pipeline.py z1p90 LC0060  0.8 8
python AGN_pipeline.py z2p03 LC0060  0.8 8
python AGN_pipeline.py z2p17 LC0060  0.8 8
python AGN_pipeline.py z2p31 LC0060  0.8 8
python AGN_pipeline.py z2p46 LC0060  0.8 8
python AGN_pipeline.py z2p62 LC0060  0.8 8
python AGN_pipeline.py z2p78 LC0060  0.8 8
python AGN_pipeline.py z2p95 LC0060  0.8 8
python AGN_pipeline.py z3p13 LC0060  0.8 8
python AGN_pipeline.py z3p32 LC0060  0.8 8
python AGN_pipeline.py z3p61 LC0060  0.8 8
python AGN_pipeline.py z3p93 LC0060  0.8 8
#                                    0.8 8
python AGN_pipeline.py z0p00 LC1800  0.8 8
python AGN_pipeline.py z0p02 LC1800  0.8 8
python AGN_pipeline.py z0p05 LC1800  0.8 8
python AGN_pipeline.py z0p09 LC1800  0.8 8
python AGN_pipeline.py z0p14 LC1800  0.8 8
python AGN_pipeline.py z0p19 LC1800  0.8 8
python AGN_pipeline.py z0p25 LC1800  0.8 8
python AGN_pipeline.py z0p30 LC1800  0.8 8
python AGN_pipeline.py z0p36 LC1800  0.8 8
python AGN_pipeline.py z0p43 LC1800  0.8 8
python AGN_pipeline.py z0p49 LC1800  0.8 8
python AGN_pipeline.py z0p56 LC1800  0.8 8
python AGN_pipeline.py z0p63 LC1800  0.8 8
python AGN_pipeline.py z0p70 LC1800  0.8 8
python AGN_pipeline.py z0p78 LC1800  0.8 8
python AGN_pipeline.py z0p86 LC1800  0.8 8
python AGN_pipeline.py z0p94 LC1800  0.8 8
python AGN_pipeline.py z1p03 LC1800  0.8 8
python AGN_pipeline.py z1p12 LC1800  0.8 8
python AGN_pipeline.py z1p22 LC1800  0.8 8
python AGN_pipeline.py z1p32 LC1800  0.8 8
python AGN_pipeline.py z1p43 LC1800  0.8 8
python AGN_pipeline.py z1p54 LC1800  0.8 8
python AGN_pipeline.py z1p65 LC1800  0.8 8
python AGN_pipeline.py z1p77 LC1800  0.8 8
python AGN_pipeline.py z1p90 LC1800  0.8 8
python AGN_pipeline.py z2p03 LC1800  0.8 8

conda activate stmod
cd $GIT_STMOD/src/Mpipelines

#
# nohup python AGN_pipeline.py z0p00 FullSky 0.8 8 > logs/testz0p00.log & # DONE
# nohup python AGN_pipeline.py z0p02 FullSky 0.8 8 > logs/testz0p02.log & # DONE
# nohup python AGN_pipeline.py z0p05 FullSky 0.8 8 > logs/testz0p05.log & # DONE
# nohup python AGN_pipeline.py z0p09 FullSky 0.8 8 > logs/testz0p09.log & # DONE
# nohup python AGN_pipeline.py z0p14 FullSky 0.8 8 > logs/testz0p14.log & # DONE
# nohup python AGN_pipeline.py z0p19 FullSky 0.8 8 > logs/testz0p19.log & # DONE
# nohup python AGN_pipeline.py z0p25 FullSky 0.8 8 > logs/testz0p25.log & # DONE
# nohup python AGN_pipeline.py z0p30 FullSky 0.8 8 > logs/testz0p30.log & # DONE
# nohup python AGN_pipeline.py z0p36 FullSky 0.8 8 > logs/testz0p36.log & # DONE
# nohup python AGN_pipeline.py z0p43 FullSky 0.8 8 > logs/testz0p43.log & # DONE
# nohup python AGN_pipeline.py z0p49 FullSky 0.8 8 > logs/testz0p49.log & # DONE
# nohup python AGN_pipeline.py z0p56 FullSky 0.8 8 > logs/testz0p56.log & # DONE
# nohup python AGN_pipeline.py z0p63 FullSky 0.8 8 > logs/testz0p63.log & # DONE
# nohup python AGN_pipeline.py z0p70 FullSky 0.8 8 > logs/testz0p70.log & # DONE
# nohup python AGN_pipeline.py z0p78 FullSky 0.8 8 > logs/testz0p78.log & # DONE
# nohup python AGN_pipeline.py z0p86 FullSky 0.8 8 > logs/testz0p86.log & # DONE
# nohup python AGN_pipeline.py z0p94 FullSky 0.8 8 > logs/testz0p94.log & # DONE
# nohup python AGN_pipeline.py z1p03 FullSky 0.8 8 > logs/testz1p03.log & # DONE
# nohup python AGN_pipeline.py z1p12 FullSky 0.8 8 > logs/testz1p12.log & # DONE
# nohup python AGN_pipeline.py z1p22 FullSky 0.8 8 > logs/testz1p22.log & # DONE
# nohup python AGN_pipeline.py z1p32 FullSky 0.8 8 > logs/testz1p32.log & # DONE
# nohup python AGN_pipeline.py z1p43 FullSky 0.8 8 > logs/testz1p43.log & # DONE
# nohup python AGN_pipeline.py z1p54 FullSky 0.8 8 > logs/testz1p54.log & # DONE
# nohup python AGN_pipeline.py z1p65 FullSky 0.8 8 > logs/testz1p65.log & # DONE
# nohup python AGN_pipeline.py z1p77 FullSky 0.8 8 > logs/testz1p77.log & # DONE
# nohup python AGN_pipeline.py z1p90 FullSky 0.8 8 > logs/testz1p90.log & # DONE
nohup python AGN_pipeline.py z2p03 FullSky 0.8 8 > logs/testz2p03.log & # # ongoing
nohup python AGN_pipeline.py z2p17 FullSky 0.8 8 > logs/testz2p17.log & # DONE
nohup python AGN_pipeline.py z2p31 FullSky 0.8 8 > logs/testz2p31.log & # # ongoing
nohup python AGN_pipeline.py z2p46 FullSky 0.8 8 > logs/testz2p46.log & # # ongoing
nohup python AGN_pipeline.py z2p62 FullSky 0.8 8 > logs/testz2p62.log & # PARTIAL DATA. TODO LC
nohup python AGN_pipeline.py z2p78 FullSky 0.8 8 > logs/testz2p78.log & # PARTIAL DATA. TODO LC
nohup python AGN_pipeline.py z2p95 FullSky 0.8 8 > logs/testz2p95.log & # PARTIAL DATA. TODO LC
nohup python AGN_pipeline.py z3p13 FullSky 0.8 8 > logs/testz3p13.log & # FAILED
nohup python AGN_pipeline.py z3p32 FullSky 0.8 8 > logs/testz3p32.log & # ongoing
nohup python AGN_pipeline.py z3p61 FullSky 0.8 8 > logs/testz3p61.log & # NO DATA. TODO LC
nohup python AGN_pipeline.py z3p93 FullSky 0.8 8 > logs/testz3p93.log & # NO DATA. TODO LC

z3p13
opens /home/idies/workspace/erosim/Uchuu/FullSky/z3p13/replication_-3.0_1.0_-1.0/glist.fits
3.095387754568758 <z< 3.2186020276156158
3.095387754568758 3.2186020276156158
====================================================================================================
3.09
0 AGN tabulated
native N, cen, sat, f_sat 97 74 23 0.3108108108108108
downsamples sat
N sat goal 5.92
renormalizing DC by 1.1975308641975309
N AGN 20
Traceback (most recent call last):
  File "/home/idies/workspace/erosim/software/st_mod/src/Mpipelines/AGN_pipeline.py", line 146, in <module>
    C_AGN.abundance_matching()
  File "/home/idies/workspace/erosim/software/st_mod/src/models/AGN.py", line 191, in abundance_matching
    print( np.transpose([M_scatt[ids_M_scatt], self.AGN_tab['LX_hard'][:len(lx)]]) )
  File "<__array_function__ internals>", line 200, in transpose
  File "/home/idies/miniconda3/lib/python3.9/site-packages/numpy/core/fromnumeric.py", line 668, in transpose
    return _wrapfunc(a, 'transpose', axes)
  File "/home/idies/miniconda3/lib/python3.9/site-packages/numpy/core/fromnumeric.py", line 54, in _wrapfunc
    return _wrapit(obj, method, *args, **kwds)
  File "/home/idies/miniconda3/lib/python3.9/site-packages/numpy/core/fromnumeric.py", line 43, in _wrapit
    result = getattr(asarray(obj), method)(*args, **kwds)
ValueError: setting an array element with a sequence. The requested array has an inhomogeneous shape after 1 dimensions. The detected shape was (2,) + inhomogeneous part.
